## `Axios`源码解析

#### `Axios`的`data`参数的处理方式：

- 先格式化`Accept`、`Content-Type`
- 对`data`进行以下的判断
  - 判断是否是以下请求格式：`FormData`、`File`、`Blob`、`ArrayBuffer`、`Buffer(Node.js)`、`Stream(Node.js)`，是的话直接返回`data`。
  - 判断是否是`ArrayBufferView`，是的话返回`data.buffer`。
  - 判断是否是内置的的`URLSearchParams`对象，是的话设置请求头的请求类型为`application/x-www-form-urlencoded;charset=utf-8`并调用内置方法`toString()`。
  - 判断是否是对象，是的话设置设置请求头的请求类型为`application/json`，转换对象为`JSON`后返回。
  - 以上都不满足，直接返回`data`。

```javascript
[function transformRequest(data, headers) {
    normalizeHeaderName(headers, 'Accept');
    normalizeHeaderName(headers, 'Content-Type');

    if (utils.isFormData(data) ||
      utils.isArrayBuffer(data) ||
      utils.isBuffer(data) ||
      utils.isStream(data) ||
      utils.isFile(data) ||
      utils.isBlob(data)
    ) {
      return data;
    }
    if (utils.isArrayBufferView(data)) {
      return data.buffer;
    }
    if (utils.isURLSearchParams(data)) {
      setContentTypeIfUnset(headers, 'application/x-www-form-urlencoded;charset=utf-8');
      return data.toString();
    }
    if (utils.isObject(data) || (headers && headers['Content-Type'] === 'application/json')) {
      setContentTypeIfUnset(headers, 'application/json');
      return stringifySafely(data);
    }
    return data;
  }
```

